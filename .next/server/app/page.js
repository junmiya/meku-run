(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4770:e=>{"use strict";e.exports=require("crypto")},665:e=>{"use strict";e.exports=require("dns")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8216:e=>{"use strict";e.exports=require("net")},9801:e=>{"use strict";e.exports=require("os")},5315:e=>{"use strict";e.exports=require("path")},5816:e=>{"use strict";e.exports=require("process")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1230:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>i.a,__next_app__:()=>g,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),t(908),t(2488),t(5866);var s=t(3191),r=t(8716),n=t(7922),i=t.n(n),l=t(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);t.d(a,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,908)),"/workspace/firebase-word-card-app/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,2488)),"/workspace/firebase-word-card-app/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],c=["/workspace/firebase-word-card-app/app/page.tsx"],u="/page",g={require:t,loadChunk:()=>Promise.resolve()},m=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},847:(e,a,t)=>{Promise.resolve().then(t.bind(t,2628))},2628:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>w});var s=t(326),r=t(7577),n=t.n(r),i=t(4001);t(3069);let l=({mode:e,onToggleMode:a})=>{let{signIn:t,signUp:n,signInWithGoogle:l,resetPassword:o,loading:d}=(0,i.a)(),[c,u]=(0,r.useState)(""),[g,m]=(0,r.useState)(""),[h,p]=(0,r.useState)(""),[x,j]=(0,r.useState)(null),[v,C]=(0,r.useState)(null),[w,f]=(0,r.useState)(!1),b=async a=>{if(a.preventDefault(),j(null),C(null),!c.trim()||!g.trim()){j("メールアドレスとパスワードを入力してください");return}if("signup"===e&&!h.trim()){j("氏名を入力してください");return}try{"signin"===e?await t(c,g):(await n(c,g,h),C("アカウントが作成されました"))}catch(e){j(E(e.message)),console.error("Auth error:",e)}},N=async e=>{if(e.preventDefault(),j(null),C(null),!c.trim()){j("メールアドレスを入力してください");return}try{await o(c),C("パスワードリセットメールを送信しました"),f(!1)}catch(e){j(E(e.message)),console.error("Reset password error:",e)}},y=async()=>{try{j(null),await l()}catch(e){j(E(e.message)),console.error("Google auth error:",e)}},E=e=>({"auth/invalid-email":"メールアドレスの形式が正しくありません","auth/user-disabled":"このアカウントは無効化されています","auth/user-not-found":"このメールアドレスのアカウントが見つかりません","auth/wrong-password":"パスワードが間違っています","auth/invalid-credential":"メールアドレスまたはパスワードが正しくありません","auth/too-many-requests":"ログイン試行回数が多すぎます。しばらく待ってから再試行してください","auth/popup-closed-by-user":"ログインがキャンセルされました","auth/weak-password":"パスワードは6文字以上で入力してください","auth/email-already-in-use":"このメールアドレスは既に使用されています",認証機能が無効になっています:"認証機能が無効になっています"})[e]||`エラー: ${e}`;return w?(0,s.jsxs)("div",{className:"auth-form",children:[s.jsx("h2",{children:"パスワードリセット"}),(0,s.jsxs)("form",{onSubmit:N,children:[(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"reset-email",children:"メールアドレス"}),s.jsx("input",{type:"email",id:"reset-email",value:c,onChange:e=>u(e.target.value),placeholder:"メールアドレスを入力",required:!0})]}),x&&s.jsx("div",{className:"error-message",children:x}),v&&s.jsx("div",{className:"success-message",children:v}),s.jsx("button",{type:"submit",disabled:d,className:"auth-button",children:d?"リセット中...":"パスワードリセット"}),s.jsx("button",{type:"button",onClick:()=>f(!1),className:"link-button",children:"ログインに戻る"})]})]}):(0,s.jsxs)("div",{className:"auth-form",children:[s.jsx("h2",{children:"signin"===e?"ログイン":"アカウント作成"}),s.jsx("div",{className:"google-auth-section",children:(0,s.jsxs)("button",{type:"button",onClick:y,disabled:d,className:"google-signin-button",children:[(0,s.jsxs)("svg",{className:"google-icon",viewBox:"0 0 24 24",width:"20",height:"20",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Googleで","signin"===e?"ログイン":"登録"]})}),s.jsx("div",{className:"divider",children:s.jsx("span",{children:"または"})}),(0,s.jsxs)("form",{onSubmit:b,children:["signup"===e&&(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"fullName",children:"氏名"}),s.jsx("input",{type:"text",id:"fullName",value:h,onChange:e=>p(e.target.value),placeholder:"氏名を入力",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"email",children:"メールアドレス"}),s.jsx("input",{type:"email",id:"email",value:c,onChange:e=>u(e.target.value),placeholder:"メールアドレスを入力",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"password",children:"パスワード"}),s.jsx("input",{type:"password",id:"password",value:g,onChange:e=>m(e.target.value),placeholder:"パスワードを入力（6文字以上）",minLength:6,required:!0})]}),x&&s.jsx("div",{className:"error-message",children:x}),v&&s.jsx("div",{className:"success-message",children:v}),s.jsx("button",{type:"submit",disabled:d,className:"auth-button",children:d?"signin"===e?"ログイン中...":"アカウント作成中...":"signin"===e?"ログイン":"アカウント作成"}),(0,s.jsxs)("div",{className:"auth-links",children:["signin"===e&&s.jsx("button",{type:"button",onClick:()=>f(!0),className:"link-button",children:"パスワードを忘れた方"}),s.jsx("button",{type:"button",onClick:a,className:"link-button",children:"signin"===e?"アカウントをお持ちでない方はこちら":"既にアカウントをお持ちの方はこちら"})]})]})]})};t(6650);let o=({onClose:e})=>{let{user:a,signOut:t}=(0,i.a)(),[n,l]=(0,r.useState)(!1),o=async()=>{l(!0);try{await t()}catch(e){console.error("Sign out error:",e),l(!1)}};return a?s.jsx("div",{className:"user-profile-overlay",children:(0,s.jsxs)("div",{className:"user-profile",children:[(0,s.jsxs)("div",{className:"profile-header",children:[s.jsx("h3",{children:"プロフィール"}),s.jsx("button",{onClick:e,className:"close-button",children:"\xd7"})]}),(0,s.jsxs)("div",{className:"profile-content",children:[(0,s.jsxs)("div",{className:"profile-info",children:[s.jsx("div",{className:"avatar",children:a.photoURL?s.jsx("img",{src:a.photoURL,alt:"Avatar"}):s.jsx("div",{className:"avatar-placeholder",children:a.displayName?.charAt(0)||a.email?.charAt(0)||"?"})}),(0,s.jsxs)("div",{className:"user-details",children:[s.jsx("p",{className:"user-name",children:a.displayName||"ユーザー"}),s.jsx("p",{className:"user-email",children:a.email})]})]}),(0,s.jsxs)("div",{className:"profile-stats",children:[(0,s.jsxs)("div",{className:"stat",children:[s.jsx("span",{className:"stat-label",children:"アカウント作成日"}),s.jsx("span",{className:"stat-value",children:a.metadata.creationTime?new Date(a.metadata.creationTime).toLocaleDateString("ja-JP"):"不明"})]}),(0,s.jsxs)("div",{className:"stat",children:[s.jsx("span",{className:"stat-label",children:"最終ログイン"}),s.jsx("span",{className:"stat-value",children:a.metadata.lastSignInTime?new Date(a.metadata.lastSignInTime).toLocaleDateString("ja-JP"):"不明"})]})]}),s.jsx("div",{className:"profile-actions",children:s.jsx("button",{onClick:o,disabled:n,className:"signout-button",children:n?"ログアウト中...":"ログアウト"})})]})]})}):null};t(1184);let d=({size:e="medium"})=>s.jsx("div",{className:`loading-spinner ${e}`,children:s.jsx("div",{className:"spinner"})});t(7657);let c=({card:e,onEdit:a,onDelete:t,onToggleStar:n})=>{let[i,l]=(0,r.useState)(!1);return(0,s.jsxs)("div",{className:"card-container",children:[(0,s.jsxs)("div",{className:`card ${i?"flipped":""}`,onClick:()=>{l(!i)},children:[s.jsx("div",{className:"card-face front",children:(0,s.jsxs)("div",{className:"card-content",children:[s.jsx("h3",{children:e.word}),e.tags&&e.tags.length>0&&s.jsx("div",{className:"tags",children:e.tags.map((e,a)=>s.jsx("span",{className:"tag",children:e},a))})]})}),s.jsx("div",{className:"card-face back",children:s.jsx("div",{className:"card-content",children:s.jsx("p",{children:e.meaning})})})]}),(0,s.jsxs)("div",{className:"card-actions",children:[s.jsx("button",{className:`star-btn ${e.isStarred?"starred":""}`,onClick:a=>{a.stopPropagation(),n?.(e.id)},children:"★"}),s.jsx("button",{className:"edit-btn",onClick:t=>{t.stopPropagation(),a?.(e)},children:"編集"}),s.jsx("button",{className:"delete-btn",onClick:a=>{a.stopPropagation(),t?.(e.id)},children:"削除"})]})]})};t(677);let u=({card:e,onSave:a,onCancel:t})=>{let[n,i]=(0,r.useState)(""),[l,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[u,g]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{e&&(i(e.word),o(e.meaning),c(e.tags?.join(", ")||""),g(e.isStarred||!1))},[e]),s.jsx("div",{className:"card-form-overlay",children:(0,s.jsxs)("div",{className:"card-form",children:[s.jsx("h2",{children:e?"単語カードを編集":"新しい単語カードを作成"}),(0,s.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!n.trim()||!l.trim()){alert("単語と意味を入力してください");return}let t=d.split(",").map(e=>e.trim()).filter(e=>e.length>0);a({word:n.trim(),meaning:l.trim(),isStarred:u,...t.length>0&&{tags:t}}),i(""),o(""),c(""),g(!1)},children:[(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"word",children:"単語"}),s.jsx("input",{type:"text",id:"word",value:n,onChange:e=>i(e.target.value),placeholder:"単語を入力",required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"meaning",children:"意味"}),s.jsx("textarea",{id:"meaning",value:l,onChange:e=>o(e.target.value),placeholder:"意味を入力",rows:3,required:!0})]}),(0,s.jsxs)("div",{className:"form-group",children:[s.jsx("label",{htmlFor:"tags",children:"タグ（カンマ区切り）"}),s.jsx("input",{type:"text",id:"tags",value:d,onChange:e=>c(e.target.value),placeholder:"タグ1, タグ2, タグ3"})]}),s.jsx("div",{className:"form-group checkbox-group",children:(0,s.jsxs)("label",{children:[s.jsx("input",{type:"checkbox",checked:u,onChange:e=>g(e.target.checked)}),"お気に入り"]})}),(0,s.jsxs)("div",{className:"form-actions",children:[s.jsx("button",{type:"button",onClick:t,className:"cancel-btn",children:"キャンセル"}),s.jsx("button",{type:"submit",className:"save-btn",children:e?"更新":"保存"})]})]})]})})};t(4590);let g=({searchQuery:e,onSearchChange:a,sortBy:t,onSortByChange:r,sortOrder:n,onSortOrderChange:i,showStarredOnly:l,onShowStarredOnlyChange:o,selectedTag:d,onSelectedTagChange:c,availableTags:u,totalCards:g,filteredCards:m})=>(0,s.jsxs)("div",{className:"search-filter",children:[s.jsx("div",{className:"search-section",children:(0,s.jsxs)("div",{className:"search-input-container",children:[s.jsx("input",{type:"text",placeholder:"単語や意味で検索...",value:e,onChange:e=>a(e.target.value),className:"search-input"}),e&&s.jsx("button",{className:"clear-search",onClick:()=>a(""),children:"\xd7"})]})}),(0,s.jsxs)("div",{className:"filter-section",children:[(0,s.jsxs)("div",{className:"filter-group",children:[s.jsx("label",{children:"並び順:"}),(0,s.jsxs)("select",{value:t,onChange:e=>r(e.target.value),className:"filter-select",children:[s.jsx("option",{value:"createdAt",children:"作成日"}),s.jsx("option",{value:"updatedAt",children:"更新日"}),s.jsx("option",{value:"alphabetical",children:"アルファベット順"})]}),s.jsx("button",{className:`sort-order-btn ${"desc"===n?"desc":"asc"}`,onClick:()=>i("asc"===n?"desc":"asc"),title:"asc"===n?"昇順":"降順",children:"asc"===n?"↑":"↓"})]}),(0,s.jsxs)("div",{className:"filter-group",children:[s.jsx("label",{children:"タグ:"}),(0,s.jsxs)("select",{value:d,onChange:e=>c(e.target.value),className:"filter-select",children:[s.jsx("option",{value:"",children:"すべて"}),u.map(e=>s.jsx("option",{value:e,children:e},e))]})]}),s.jsx("div",{className:"filter-group",children:(0,s.jsxs)("label",{className:"checkbox-label",children:[s.jsx("input",{type:"checkbox",checked:l,onChange:e=>o(e.target.checked)}),"お気に入りのみ"]})})]}),s.jsx("div",{className:"filter-summary",children:m!==g&&(0,s.jsxs)("span",{className:"filter-result",children:[g,"件中",m,"件を表示"]})})]});t(1550);let m=({currentPage:e,totalPages:a,onPageChange:t,itemsPerPage:r,totalItems:i})=>{if(a<=1)return null;let l=Math.min(e*r,i),o=(()=>{let t=[],s=[],r=Math.max(1,e-2),n=Math.min(a,e+2);for(let e=r;e<=n;e++)t.push(e);return r>2?s.push(1,"..."):2===r&&s.push(1),s.push(...t),n<a-1?s.push("...",a):n===a-1&&s.push(a),s})();return(0,s.jsxs)("div",{className:"pagination-container",children:[(0,s.jsxs)("div",{className:"pagination-info",children:[i,"件中 ",(e-1)*r+1,"-",l,"件を表示"]}),(0,s.jsxs)("div",{className:"pagination",children:[s.jsx("button",{className:"pagination-btn",onClick:()=>t(e-1),disabled:1===e,children:"← 前へ"}),o.map((a,r)=>s.jsx(n().Fragment,{children:"..."===a?s.jsx("span",{className:"pagination-dots",children:"..."}):s.jsx("button",{className:`pagination-btn ${a===e?"active":""}`,onClick:()=>t(a),children:a})},r)),s.jsx("button",{className:"pagination-btn",onClick:()=>t(e+1),disabled:e===a,children:"次へ →"})]})]})};var h=t(9222);let p=[{word:"accomplish",meaning:"達成する、成し遂げる",tags:["動詞","ビジネス","TOEIC"],isStarred:!0},{word:"acquire",meaning:"獲得する、身につける",tags:["動詞","ビジネス","TOEIC"]},{word:"adequate",meaning:"適切な、十分な",tags:["形容詞","ビジネス","TOEIC"]},{word:"administrator",meaning:"管理者、運営者",tags:["名詞","ビジネス","TOEIC"]},{word:"agenda",meaning:"議題、予定表",tags:["名詞","ビジネス","TOEIC"],isStarred:!0},{word:"allocate",meaning:"割り当てる、配分する",tags:["動詞","ビジネス","TOEIC"]},{word:"annually",meaning:"年に一度、毎年",tags:["副詞","ビジネス","TOEIC"]},{word:"anticipate",meaning:"予期する、期待する",tags:["動詞","ビジネス","TOEIC"]},{word:"assessment",meaning:"評価、査定",tags:["名詞","ビジネス","TOEIC"]},{word:"authentic",meaning:"本物の、信頼できる",tags:["形容詞","ビジネス","TOEIC"]},{word:"budget",meaning:"予算、予算を組む",tags:["名詞","動詞","経済","TOEIC"],isStarred:!0},{word:"commodity",meaning:"商品、日用品",tags:["名詞","経済","TOEIC"]},{word:"comprehensive",meaning:"包括的な、総合的な",tags:["形容詞","ビジネス","TOEIC"]},{word:"consecutive",meaning:"連続した、継続的な",tags:["形容詞","ビジネス","TOEIC"]},{word:"corporate",meaning:"企業の、法人の",tags:["形容詞","ビジネス","TOEIC"],isStarred:!0},{word:"crucial",meaning:"極めて重要な、決定的な",tags:["形容詞","ビジネス","TOEIC"]},{word:"deficit",meaning:"赤字、不足",tags:["名詞","経済","TOEIC"]},{word:"economical",meaning:"経済的な、節約の",tags:["形容詞","経済","TOEIC"]},{word:"eliminate",meaning:"除去する、削除する",tags:["動詞","ビジネス","TOEIC"]},{word:"estimate",meaning:"見積もる、推定する",tags:["動詞","名詞","ビジネス","TOEIC"]},{word:"implement",meaning:"実行する、実施する",tags:["動詞","ビジネス","TOEIC"],isStarred:!0},{word:"innovative",meaning:"革新的な、斬新な",tags:["形容詞","技術","TOEIC"]},{word:"maintenance",meaning:"保守、維持管理",tags:["名詞","技術","TOEIC"]},{word:"manufacture",meaning:"製造する、製造業",tags:["動詞","名詞","製造","TOEIC"]},{word:"operational",meaning:"運営の、操作の",tags:["形容詞","ビジネス","TOEIC"]},{word:"procedure",meaning:"手順、手続き",tags:["名詞","ビジネス","TOEIC"],isStarred:!0},{word:"productivity",meaning:"生産性、生産力",tags:["名詞","ビジネス","TOEIC"]},{word:"proposal",meaning:"提案、企画書",tags:["名詞","ビジネス","TOEIC"]},{word:"regulation",meaning:"規則、規制",tags:["名詞","ビジネス","TOEIC"]},{word:"revenue",meaning:"収入、歳入",tags:["名詞","経済","TOEIC"],isStarred:!0},{word:"accomplish",meaning:"達成する、完成させる",tags:["動詞","一般","TOEIC"]},{word:"appropriate",meaning:"適切な、ふさわしい",tags:["形容詞","一般","TOEIC"]},{word:"convenience",meaning:"便利さ、都合",tags:["名詞","一般","TOEIC"]},{word:"demonstrate",meaning:"実演する、証明する",tags:["動詞","一般","TOEIC"]},{word:"efficient",meaning:"効率的な、能率的な",tags:["形容詞","ビジネス","TOEIC"],isStarred:!0},{word:"foundation",meaning:"基礎、土台、財団",tags:["名詞","一般","TOEIC"]},{word:"guarantee",meaning:"保証する、保証",tags:["動詞","名詞","ビジネス","TOEIC"]},{word:"household",meaning:"家庭の、世帯",tags:["形容詞","名詞","一般","TOEIC"]},{word:"instruction",meaning:"指示、指導、説明書",tags:["名詞","一般","TOEIC"]},{word:"merchandise",meaning:"商品、品物",tags:["名詞","ビジネス","TOEIC"]},{word:"negotiate",meaning:"交渉する、取り決める",tags:["動詞","ビジネス","TOEIC"],isStarred:!0},{word:"obligation",meaning:"義務、責任",tags:["名詞","ビジネス","TOEIC"]},{word:"outstanding",meaning:"優秀な、未払いの",tags:["形容詞","ビジネス","TOEIC"]},{word:"personnel",meaning:"職員、人事",tags:["名詞","ビジネス","TOEIC"]},{word:"priority",meaning:"優先事項、優先権",tags:["名詞","ビジネス","TOEIC"],isStarred:!0},{word:"remarkable",meaning:"注目すべき、驚くべき",tags:["形容詞","一般","TOEIC"]},{word:"reputation",meaning:"評判、名声",tags:["名詞","ビジネス","TOEIC"]},{word:"strategy",meaning:"戦略、計画",tags:["名詞","ビジネス","TOEIC"],isStarred:!0},{word:"substantial",meaning:"かなりの、実質的な",tags:["形容詞","ビジネス","TOEIC"]},{word:"transportation",meaning:"輸送、交通機関",tags:["名詞","一般","TOEIC"]}],x=()=>p;class j{static getPageItems(e,a,t){let s=(a-1)*t;return e.slice(s,s+t)}static getTotalPages(e,a){return Math.ceil(e/a)}}class v{static filterCards(e,a,t,s){return e.filter(e=>{if(a){let t=a.toLowerCase(),s=e.word.toLowerCase().includes(t),r=e.meaning.toLowerCase().includes(t);if(!s&&!r)return!1}return!!(!t||e.tags&&e.tags.includes(t))&&(!s||!!e.isStarred)})}static sortCards(e,a,t){let s=[...e];return s.sort((e,s)=>{let r=0;switch(a){case"createdAt":r=new Date(e.created_at).getTime()-new Date(s.created_at).getTime();break;case"updatedAt":r=new Date(e.updated_at).getTime()-new Date(s.updated_at).getTime();break;case"alphabetical":r=e.word.toLowerCase().localeCompare(s.word.toLowerCase())}return"asc"===t?r:-r}),s}static getAllTags(e){let a=new Set;return e.forEach(e=>{e.tags&&e.tags.forEach(e=>a.add(e))}),Array.from(a).sort()}}let C=(e={})=>{let{itemsPerPage:a=6}=e,{dataManager:t,isCloudMode:s}=(0,h.B)(),[n,i]=(0,r.useState)([]),[l,o]=(0,r.useState)(!0),[d,c]=(0,r.useState)(null),[u,g]=(0,r.useState)(1),[m,p]=(0,r.useState)(""),[C,w]=(0,r.useState)("createdAt"),[f,b]=(0,r.useState)("desc"),[N,y]=(0,r.useState)(!1),[E,T]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{o(!0),c(null);let e=await t.getAllCards();if(0===e.length){let e=x(),a=await t.createCards(e);i(a)}else i(e)}catch(e){console.error("Error loading cards:",e),c(e instanceof Error?e.message:"Failed to load cards")}finally{o(!1)}})()},[t]);let{filteredCards:S,availableTags:I,displayCards:O,totalPages:k}=(0,r.useMemo)(()=>{let e=v.filterCards(n,m,E,N),t=v.sortCards(e,C,f),s=j.getPageItems(t,u,a),r=j.getTotalPages(t.length,a);return{filteredCards:t,availableTags:v.getAllTags(n),displayCards:s,totalPages:r}},[n,u,a,m,C,f,N,E]);(0,r.useEffect)(()=>{g(1)},[m,E,N,C,f]);let q=async e=>{let a=n.find(a=>a.id===e);if(a)try{let s=await t.updateCard(e,{isStarred:!a.isStarred});i(a=>a.map(a=>a.id===e?s:a))}catch(e){console.error("Error toggling star:",e),c(e instanceof Error?e.message:"Failed to update card")}};return{cards:n,filteredCards:S,displayCards:O,availableTags:I,totalPages:k,loading:l,error:d,isCloudMode:s,currentPage:u,searchQuery:m,sortBy:C,sortOrder:f,showStarredOnly:N,selectedTag:E,itemsPerPage:a,setSearchQuery:p,setSortBy:w,setSortOrder:b,setShowStarredOnly:y,setSelectedTag:T,handlePageChange:e=>{g(e),window.scrollTo({top:0,behavior:"smooth"})},createCard:async e=>{try{let a=await t.createCard(e);i(e=>[a,...e])}catch(e){console.error("Error creating card:",e),c(e instanceof Error?e.message:"Failed to create card")}},updateCard:async(e,a)=>{try{let s=await t.updateCard(e,a);i(a=>a.map(a=>a.id===e?s:a))}catch(e){console.error("Error updating card:",e),c(e instanceof Error?e.message:"Failed to update card")}},deleteCard:async e=>{if(window.confirm("このカードを削除しますか？"))try{await t.deleteCard(e),i(a=>a.filter(a=>a.id!==e))}catch(e){console.error("Error deleting card:",e),c(e instanceof Error?e.message:"Failed to delete card")}},toggleStar:q,loadSampleData:async()=>{if(window.confirm("現在のデータを削除してTOEIC700点レベルのサンプルデータを読み込みますか？"))try{await t.deleteAllCards();let e=x(),a=await t.createCards(e);i(a),g(1)}catch(e){console.error("Error loading sample data:",e),c(e instanceof Error?e.message:"Failed to load sample data")}}}};function w(){let{user:e,loading:a}=(0,i.a)(),[t,n]=(0,r.useState)("signin"),[h,p]=(0,r.useState)(!1),{cards:x,filteredCards:j,displayCards:v,loading:w,error:f,searchQuery:b,setSearchQuery:N,sortBy:y,setSortBy:E,sortOrder:T,setSortOrder:S,selectedTag:I,setSelectedTag:O,showStarredOnly:k,setShowStarredOnly:q,currentPage:P,handlePageChange:A,totalPages:_,createCard:F,updateCard:D,deleteCard:M,toggleStar:B,loadSampleData:L,availableTags:R}=C(),[z,G]=(0,r.useState)(!1),[$,H]=(0,r.useState)(),J=e=>{H(e),G(!0)},U=()=>{G(!1),H(void 0)},Q=async e=>{await F(e),U()},V=async e=>{$&&(await D($.id,e),U())},W=async e=>{window.confirm("この単語カードを削除しますか？")&&await M(e)};return a?s.jsx(d,{}):e?(0,s.jsxs)("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[s.jsx("h1",{children:"単語カードアプリ"}),s.jsx("button",{onClick:()=>p(!h),style:{padding:"8px 16px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:h?"プロフィールを閉じる":"プロフィール"})]}),h&&s.jsx("div",{style:{marginBottom:"20px"},children:s.jsx(o,{onClose:()=>p(!1)})}),(0,s.jsxs)("div",{style:{marginBottom:"20px"},children:[s.jsx("button",{onClick:()=>{H(void 0),G(!0)},style:{padding:"12px 24px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px",marginRight:"10px"},children:"新しい単語カードを追加"}),0===x.length&&s.jsx("button",{onClick:L,style:{padding:"12px 24px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"サンプルデータを読み込み"})]}),z&&s.jsx("div",{style:{marginBottom:"20px"},children:s.jsx(u,{card:$,onSave:$?V:Q,onCancel:U})}),x.length>0&&(0,s.jsxs)(s.Fragment,{children:[s.jsx(g,{searchQuery:b,onSearchChange:N,sortBy:y,onSortByChange:E,sortOrder:T,onSortOrderChange:S,selectedTag:I,onSelectedTagChange:O,showStarredOnly:k,onShowStarredOnlyChange:q,availableTags:R,totalCards:x.length,filteredCards:j.length}),w?s.jsx(d,{}):v.length>0?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",margin:"20px 0"},children:v.map(e=>s.jsx(c,{card:e,onEdit:()=>J(e),onDelete:()=>W(e.id),onToggleStar:()=>B(e.id)},e.id))}),_>1&&s.jsx(m,{currentPage:P,totalPages:_,onPageChange:A,itemsPerPage:6,totalItems:j.length})]}):s.jsx("div",{style:{textAlign:"center",padding:"40px"},children:s.jsx("p",{children:"条件に一致する単語カードが見つかりません。"})})]}),f&&(0,s.jsxs)("div",{style:{backgroundColor:"#f8d7da",color:"#721c24",padding:"12px",borderRadius:"4px",margin:"20px 0"},children:["エラー: ",f]})]}):(0,s.jsxs)("div",{style:{padding:"20px"},children:[s.jsx("h1",{children:"単語カードアプリ"}),s.jsx("p",{children:"ログインして単語カードの学習を始めましょう"}),s.jsx(l,{mode:t,onToggleMode:()=>{n("signin"===t?"signup":"signin")}})]})}},908:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/workspace/firebase-word-card-app/app/page.tsx#default`)},3069:()=>{},1184:()=>{},6650:()=>{},677:()=>{},1550:()=>{},4590:()=>{},7657:()=>{}};var a=require("../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),s=a.X(0,[805,728],()=>t(1230));module.exports=s})();