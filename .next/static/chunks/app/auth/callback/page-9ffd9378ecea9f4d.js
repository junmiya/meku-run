(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{1910:function(e,n,r){Promise.resolve().then(r.bind(r,1099))},1099:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return a},dynamic:function(){return l}});var t=r(7437),s=r(2265),i=r(5475),o=r(2141),c=r(1968);let l="force-dynamic";function u(){let e=(0,i.useRouter)(),n=(0,i.useSearchParams)(),r=(0,o.e)();return(0,s.useEffect)(()=>{(async()=>{try{let s=n.get("code");if(s){let{data:n,error:i}=await r.auth.exchangeCodeForSession(s);if(i){console.error("Auth exchange error:",i),e.push("/?error=auth_failed");return}if(n.session){var t;console.log("Authentication successful:",null===(t=n.user)||void 0===t?void 0:t.email),e.push("/")}else console.log("No session created"),e.push("/?error=no_session")}else{let{data:n,error:t}=await r.auth.getSession();if(t){console.error("Auth callback error:",t),e.push("/?error=session_error");return}n.session?e.push("/"):e.push("/?error=no_code")}}catch(n){console.error("Unexpected auth callback error:",n),e.push("/?error=unexpected")}})()},[e,n,r.auth]),(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",padding:"20px"},children:[(0,t.jsx)(c.Z,{}),(0,t.jsx)("p",{style:{marginTop:"20px",textAlign:"center"},children:"認証を完了しています..."})]})}function a(){return(0,t.jsx)(s.Suspense,{fallback:(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"50vh",padding:"20px"},children:[(0,t.jsx)(c.Z,{}),(0,t.jsx)("p",{style:{marginTop:"20px",textAlign:"center"},children:"読み込み中..."})]}),children:(0,t.jsx)(u,{})})}},1968:function(e,n,r){"use strict";var t=r(7437);r(2265),r(8487),n.Z=e=>{let{size:n="medium"}=e;return(0,t.jsx)("div",{className:"loading-spinner ".concat(n),children:(0,t.jsx)("div",{className:"spinner"})})}},2141:function(e,n,r){"use strict";r.d(n,{e:function(){return s}});var t=r(5452);let s=()=>(0,t.createClientComponentClient)();(0,t.createClientComponentClient)()},8487:function(){}},function(e){e.O(0,[338,452,971,117,744],function(){return e(e.s=1910)}),_N_E=e.O()}]);